<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Duel</title>

<style>
/* ===== LIGHT THEME ÙˆØ§Ø¶Ø­ ===== */
body{
  background:#eef2f7;
  color:#222;
  font-family:Arial, sans-serif;
  text-align:center;
}

h1{color:#1f2937}

.arena{
  display:flex;
  justify-content:space-around;
  margin-top:30px;
}

.player{
  width:40%;
  background:#ffffff;
  padding:20px;
  border-radius:18px;
  box-shadow:0 12px 30px rgba(0,0,0,0.12);
  position:relative;
}

.hp{
  font-size:22px;
  font-weight:bold;
}

.action{
  font-size:26px;
  height:40px;
  margin:8px 0;
}

.controls{
  font-size:14px;
  color:#444;
  text-align:left;
}

.fx{
  position:absolute;
  top:45%;
  left:50%;
  transform:translate(-50%,0);
  font-size:46px;
  opacity:0.6;
  animation:float 1s forwards;
}

@keyframes float{
  from{opacity:0.7; transform:translate(-50%,0);}
  to{opacity:0; transform:translate(-50%,-70px);}
}

.attackAnim{animation:attack .35s}
.defendAnim{animation:defend .35s}
.specialAnim{animation:special .5s}

@keyframes attack{50%{transform:translateX(18px)}}
@keyframes defend{50%{box-shadow:0 0 22px #3b82f6}}
@keyframes special{50%{box-shadow:0 0 38px #9333ea}}

#winner{
  margin-top:25px;
  font-size:28px;
  font-weight:bold;
  color:#16a34a;
}
</style>
</head>

<body>

<h1>âš”ï¸ Smart Duel âš”ï¸</h1>
<p>Player 1: WASD | Player 2: â¬†â¬…â¬‡â¡</p>

<div class="arena">
  <div class="player" id="p1">
    <h2>Player 1</h2>
    <div class="hp" id="hp1">HP: 100</div>
    <div class="action" id="a1">â”</div>
    <div class="controls">
      W â€“ Ù‡Ø¬ÙˆÙ… Ø¶Ø¹ÙŠÙ ğŸŸ¢<br>
      A â€“ Ù‡Ø¬ÙˆÙ… Ù‚ÙˆÙŠ ğŸ”´<br>
      S â€“ Ø¯ÙØ§Ø¹ ğŸ›¡ï¸<br>
      D â€“ Ø­Ø±ÙƒØ© Ø®Ø§ØµØ© â­
    </div>
  </div>

  <div class="player" id="p2">
    <h2>Player 2</h2>
    <div class="hp" id="hp2">HP: 100</div>
    <div class="action" id="a2">â”</div>
    <div class="controls">
      â†‘ â€“ Ù‡Ø¬ÙˆÙ… Ø¶Ø¹ÙŠÙ ğŸŸ¢<br>
      â† â€“ Ù‡Ø¬ÙˆÙ… Ù‚ÙˆÙŠ ğŸ”´<br>
      â†“ â€“ Ø¯ÙØ§Ø¹ ğŸ›¡ï¸<br>
      â†’ â€“ Ø­Ø±ÙƒØ© Ø®Ø§ØµØ© â­
    </div>
  </div>
</div>

<div id="winner"></div>

<script>
let gameOver=false;

const players={
  1:{hp:100,def:false,special:true,choice:null},
  2:{hp:100,def:false,special:true,choice:null}
};

const icons={
  safe:"ğŸŸ¢ Ù‡Ø¬ÙˆÙ… Ø¶Ø¹ÙŠÙ",
  risky:"ğŸ”´ Ù‡Ø¬ÙˆÙ… Ù‚ÙˆÙŠ",
  defend:"ğŸ›¡ï¸ Ø¯ÙØ§Ø¹",
  special:"â­ Ø­Ø±ÙƒØ© Ø®Ø§ØµØ©"
};

document.addEventListener("keydown",e=>{
  if(gameOver) return;

  e.preventDefault();
  const k=e.key.toLowerCase();

  if(!players[1].choice){
    if(k==="w") choose(1,"safe");
    if(k==="a") choose(1,"risky");
    if(k==="s") choose(1,"defend");
    if(k==="d") choose(1,"special");
  }

  if(!players[2].choice){
    if(e.key==="ArrowUp") choose(2,"safe");
    if(e.key==="ArrowLeft") choose(2,"risky");
    if(e.key==="ArrowDown") choose(2,"defend");
    if(e.key==="ArrowRight") choose(2,"special");
  }

  if(players[1].choice && players[2].choice){
    setTimeout(resolveTurn,400);
  }
});

function choose(p,act){
  if(players[p].choice) return;
  if(act==="special" && !players[p].special) return;
  players[p].choice=act;
  document.getElementById("a"+p).innerText="âœ…";
}

function resolveTurn(){
  reveal();
  setTimeout(()=>{
    execute(1,2);
    if(checkWinner()) return;

    execute(2,1);
    if(checkWinner()) return;

    resetTurn();
  },700);
}

function reveal(){
  a1.innerText=icons[players[1].choice];
  a2.innerText=icons[players[2].choice];
}

function execute(p,e){
  let act=players[p].choice;
  let dmg=0;
  let el=document.getElementById("p"+p);

  if(act==="safe"){dmg=10; el.classList.add("attackAnim");}
  if(act==="risky" && Math.random()<0.5){dmg=30; el.classList.add("attackAnim");}
  if(act==="defend"){players[p].def=true; el.classList.add("defendAnim");}
  if(act==="special"){dmg=40; players[p].special=false; el.classList.add("specialAnim");}

  if(dmg>0){
    if(players[e].def){dmg/=2; players[e].def=false;}
    players[e].hp-=dmg;
    fx(e,act);
    updateHP();
  }

  setTimeout(()=>el.className="player",400);
}

function updateHP(){
  hp1.innerText="HP: "+Math.max(players[1].hp,0);
  hp2.innerText="HP: "+Math.max(players[2].hp,0);
}

function fx(p,act){
  let d=document.createElement("div");
  d.className="fx";
  d.innerText=icons[act][0];
  document.getElementById("p"+p).appendChild(d);
  setTimeout(()=>d.remove(),1000);
}

function checkWinner(){
  if(players[1].hp<=0 || players[2].hp<=0){
    gameOver=true;
    let win=players[1].hp<=0?"Player 2":"Player 1";
    document.getElementById("winner").innerText="ğŸ† "+win+" ÙØ§Ø²!";
    return true;
  }
  return false;
}

function resetTurn(){
  players[1].choice=null;
  players[2].choice=null;
  a1.innerText="â”";
  a2.innerText="â”";
}
</script>

</body>
</html>